---
layout: post
title: Projeto APEREA 
subtitle: Simulação - Descritivo do robô
cover-img: /assets/img/aperea/cover3.png
thumbnail-img: /assets/img/aperea/rosa-logo-redondo.png
share-img: /assets/img/rosa-logo-redondo.png
tags: [aperea, jetbot]
---

Neste post, iremos abordar sobre o [Unified Robot Description Format (URDF)](http://wiki.ros.org/urdf) ou descritivo do robô, o qual é um conjunto de arquivos em XML que descreve os elementos do robô.

## Descritivo do robô

Conforme ilustrado abaixo, a descrição do modelo do Aperea é formada por um repositório com os arquivos meshes correspondentes as bases, as quais foram implementadas no Onshape, e os arquivos STL dos sensores. No repositório dos sensores estão armazenados os arquivos XML que descrevem os sensores, os plugins e configurações do Gazebo para a simulação. Já o modelo refere-se ao arquivo XML que descreve todos os elementos do Aperea, como por exemplo, as sua bases, rodas e as posições dos sensores.

<center>
<img src="{{ 'assets/img/aperea/urdf1.png' | relative_url }}" text-align=center alt="urdf1" />
</center>


A partir do modelo desenvolvido no Onshape, ilustrado abaixo, foram feitas as declarações e configurações descrevendo as características do robô. O Onshape fornece algumas características como a inércia e o peso, as quais são adicionadas no arquivo do modelo do robô. 

<center>
<img src="{{ 'assets/img/aperea/assembly1.png' | relative_url }}" text-align=center alt="urdf1" />
</center>

Primeiramente, foi configurado o modelo conforme a junção das suas partes, sendo definidas as juntas e os links. A ilustração a seguir mostra, simplificadamente, os elementos do robô e a forma como estão conectados. Os retângulos correspondem aos elementos declarados como links, os quais estão conectados por meio de juntas fixas com exceção das juntas das rodas as quais são continuas. 

<center>
<img src="{{ 'assets/img/aperea/joints_and_links.png' | relative_url }}" text-align=center alt="urdf1" />
</center>

Em seguida, foram feitos ajustes nas dimensões, posicionamento e propriedades dos elementos de forma a garantir uma representação próxima a sua formatação real. Os sensores foram declarados no arquivo do modelo por meio de Xacros, os quais são macros utilizados para construir arquivos XML menores e mais legíveis. Por exemplo, o seguinte código irá integrar a Mynt Eye, descrita por meio de um arquivo na pasta dos sensores, ao modelo do robô.  

{% highlight javascript linenos %}
  <xacro:if value="${mynteye}">
    <xacro:include filename="$(find aperea_description)/urdf/sensors/mynteye.xacro"/>
    <joint name="mynteye_connector" type="fixed">
      <origin rpy="0 0 0.00" xyz="-0.0005 0.00 0.0018"/>
      <child link="mynteye_link"/>
      <parent link="link_chassis_2"/>
    </joint>
  </xacro:if>
{% endhighlight %}

Por fim, o modelo obtido pode ser visualizado na imagem a seguir. Nas próximas etapas serão feitos testes com os sensores utilizando o ambiente de
simulação do Gazebo e visualizando a interação do robô com o ambiente no Rviz.

<center>
<img src="{{ 'assets/img/aperea/robot_model.png' | relative_url }}" width="500" text-align=center alt="urdf1" />
</center>

<br/>

<h3 class="post-title">Autores</h3><br/>
<div class="row">
<div class=" col-xl-auto offset-xl-0 col-lg-4 offset-lg-0">
<table class="table-borderless highlight">
<thead>
<tr>
<th><center><img src="{{ 'assets/img/marco.jpg' | relative_url }}" width="100" alt="juliana" class="img-fluid rounded-circle" /></center></th>
<th></th>
<th><center><img src="{{ 'assets/img/marco.jpg' | relative_url }}" width="100" alt="matheusanselmo" class="img-fluid rounded-circle"/></center></th>
</tr>
</thead>
<tbody>
<tr class="font-weight-bolder" style="text-align: center margin-top: 0">
<td width="44.33%">Juliana Santana</td>
<td></td>
<td width="44.33%">Matheus Anselmo</td>
</tr>
<tr style="text-align: center" >
<td style="vertical-align: top"><small>Pesquisadora Jr. do projeto <br>Engenheira Eletricista.</small></td>
<td></td>
<td style="vertical-align: top"><small>Pesquisador Jr. do projeto <br>Engenheiro de Controle e Automação.</small></td>
</tr>
</tbody>
</table>
</div>
</div>